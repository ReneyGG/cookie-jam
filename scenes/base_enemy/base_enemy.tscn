[gd_scene load_steps=21 format=3 uid="uid://dajihw3h0cqnh"]

[ext_resource type="Script" path="res://scenes/base_enemy/base_enemy.gd" id="1_bhi8d"]
[ext_resource type="Texture2D" uid="uid://lsplogfxvjhp" path="res://assets/player/Attack-1.png" id="2_mecr0"]
[ext_resource type="Texture2D" uid="uid://dnfdr5k2ruqie" path="res://assets/player/Attack-2.png" id="3_rjwtv"]
[ext_resource type="Texture2D" uid="uid://dovqonxqvo3a3" path="res://assets/player/Attack-3.png" id="4_sulrb"]
[ext_resource type="Texture2D" uid="uid://duxrxuhg1c77s" path="res://assets/player/Attack-4.png" id="5_2gfmi"]
[ext_resource type="Texture2D" uid="uid://dw7cc86k4esb5" path="res://assets/player/Attack-5.png" id="6_blqh8"]
[ext_resource type="Texture2D" uid="uid://dcvspmuwhdsik" path="res://assets/player/Attack-6.png" id="7_vcxpk"]
[ext_resource type="Texture2D" uid="uid://bi8c6d43ip65q" path="res://assets/player/Attack-7.png" id="8_e2ubn"]
[ext_resource type="Texture2D" uid="uid://dk4r5lr3fc86d" path="res://assets/player/Attack-8.png" id="9_vm3ug"]
[ext_resource type="Texture2D" uid="uid://bslfwa1eyc73v" path="res://assets/player/Attack-9.png" id="10_l4uyf"]
[ext_resource type="Texture2D" uid="uid://kg74epu3aruo" path="res://assets/player/Idle-1.png" id="11_fsgej"]
[ext_resource type="Texture2D" uid="uid://bc0735mt6mu5q" path="res://assets/player/Idle-2.png" id="12_hmagf"]
[ext_resource type="Texture2D" uid="uid://i6vs6yi71dt4" path="res://assets/player/Idle-3.png" id="13_2l5m3"]
[ext_resource type="Texture2D" uid="uid://bcxa51yk7m66v" path="res://assets/player/Idle-4.png" id="14_ssarg"]

[sub_resource type="BoxShape3D" id="BoxShape3D_2dfyv"]
size = Vector3(1.5, 5.76, 1.5)

[sub_resource type="SpriteFrames" id="SpriteFrames_iiyko"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_mecr0")
}, {
"duration": 1.0,
"texture": ExtResource("3_rjwtv")
}, {
"duration": 1.0,
"texture": ExtResource("4_sulrb")
}, {
"duration": 1.0,
"texture": ExtResource("5_2gfmi")
}, {
"duration": 1.0,
"texture": ExtResource("6_blqh8")
}, {
"duration": 1.0,
"texture": ExtResource("7_vcxpk")
}, {
"duration": 1.0,
"texture": ExtResource("8_e2ubn")
}, {
"duration": 1.0,
"texture": ExtResource("9_vm3ug")
}, {
"duration": 1.0,
"texture": ExtResource("10_l4uyf")
}],
"loop": true,
"name": &"attack",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_fsgej")
}, {
"duration": 1.0,
"texture": ExtResource("12_hmagf")
}, {
"duration": 1.0,
"texture": ExtResource("13_2l5m3")
}, {
"duration": 1.0,
"texture": ExtResource("14_ssarg")
}],
"loop": true,
"name": &"idle",
"speed": 12.0
}]

[sub_resource type="Animation" id="Animation_bwqiw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"attack"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite3D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}

[sub_resource type="Animation" id="Animation_hqa6o"]
resource_name = "attack"
length = 0.45
step = 0.05
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.25),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"resolve_attack"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite3D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"attack"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite3D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8]
}

[sub_resource type="Animation" id="Animation_0c5ms"]
resource_name = "idle"
length = 0.2
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite3D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.05, 0.1, 0.15),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_b5abi"]
_data = {
"RESET": SubResource("Animation_bwqiw"),
"attack": SubResource("Animation_hqa6o"),
"idle": SubResource("Animation_0c5ms")
}

[node name="BaseEnemy" type="CharacterBody3D"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0, 0, 0)
collision_layer = 3
collision_mask = 3
script = ExtResource("1_bhi8d")

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
target_position = Vector3(0, 0, 2)
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.416, 0)
shape = SubResource("BoxShape3D_2dfyv")

[node name="Sprite3D" type="AnimatedSprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
billboard = 2
sprite_frames = SubResource("SpriteFrames_iiyko")
animation = &"attack"
frame = 4

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_b5abi")
}
